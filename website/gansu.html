<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-4059058909472641">
    <meta name="description" content="Gansu Temperature Rankings - City temperature data">
    <meta name="keywords" content="Gansu,甘肃省,temperature,weather,cities">
    <title>Gansu Temperature Rankings</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <script>
      // Language: en

      // Weather descriptions are pre-rendered in the correct language

      // City names are pre-rendered in the correct language

      

      // City name mapping for en version
      const cityNameMap = {"陇南市":"LongNan","天水市":"TianShui","兰州市":"LanZhou","甘南藏族自治州":"GanNan","临夏回族自治州":"LinXia","定西市":"DingXi","白银市":"BaiYin","平凉市":"PingLiang","张掖市":"ZhangYe","庆阳市":"QingYang","嘉峪关市":"JiaYuGuan","金昌市":"JinChang","酒泉市":"JiuQuan","武威市":"WuWei"};
      window.getCityName = function(cityName, lang) {
        return cityNameMap[cityName] || cityName;
      };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              gray: {
                750: '#2d3748',
                850: '#1a202c',
                950: '#0d1117',
              }
            }
          }
        }
      }
    </script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .fade-in {
        animation: fadeIn 0.3s ease-out forwards;
        opacity: 0;
        transform: translateY(-5px);
      }
      @keyframes fadeIn {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .details-container {
        display: none;
      }
      .details-container.open {
        display: block;
      }
    </style>
</head>
<body class="flex flex-col md:flex-row h-screen w-screen overflow-hidden bg-slate-50 dark:bg-[#0d1117] text-slate-900 dark:text-white font-sans transition-colors duration-300">

    <!-- 左侧：地图可视化区域 -->
    <div class="relative flex-1 h-[50vh] md:h-full flex flex-col">
        <!-- 顶部覆盖层：标题 & 图例 & 返回按钮 -->
        <div class="absolute top-0 left-0 w-full p-6 z-10 pointer-events-none">
            <div class="flex justify-between items-start">
                <div class="flex items-center gap-3">
                    <!-- 返回按钮 -->
                    <a href="index.html" class="pointer-events-auto p-2 rounded-lg bg-white/80 dark:bg-gray-800/80 backdrop-blur border border-slate-200 dark:border-gray-700 text-slate-600 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400 transition-colors shadow-sm">
                        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                        </svg>
                    </a>
                    <div>
                        <h1 id="main-heading" class="text-3xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-emerald-500 drop-shadow-sm font-sans" data-province-zh="甘肃省" data-province-en="Gansu">
                            Gansu
                        </h1>
                    </div>
                </div>

                <div class="pointer-events-auto flex flex-col items-end gap-2">
                    <div class="flex gap-2">
                        <!-- Theme Toggle -->
                        <button onclick="toggleTheme()" id="theme-btn" class="p-1.5 rounded-lg bg-white/80 dark:bg-gray-800/80 backdrop-blur border border-slate-200 dark:border-gray-700 text-slate-600 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400 transition-colors shadow-sm cursor-pointer">
                            <svg id="icon-sun" class="w-4 h-4 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
                            <svg id="icon-moon" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
                        </button>

                        <!-- 语言切换 -->
                        <div class="flex bg-white/80 dark:bg-gray-800/80 backdrop-blur rounded-lg border border-slate-200 dark:border-gray-700 p-1">
                                <a href="#" class="px-2 py-0.5 text-xs font-bold rounded bg-blue-600 text-white cursor-pointer">EN</a>
                                <a href="zh-cn/gansu.html" class="px-2 py-0.5 text-xs font-bold rounded text-slate-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white transition-colors cursor-pointer">CN</a>
                            </div>
                    </div>

                    <!-- 温度图例 -->
                    <div class="flex flex-col gap-1 items-end p-2 rounded-lg bg-white/80 dark:bg-gray-900/60 backdrop-blur-md border border-slate-200 dark:border-gray-700/50 shadow-xl transition-colors duration-300">
                        <div id="temp-scale-label" class="text-[10px] text-slate-500 dark:text-gray-400 font-semibold mb-1 uppercase tracking-wider w-full text-right px-1">Temp Scale</div>
                        <div class="flex flex-col gap-1">
                            
                            <div class="flex items-center gap-2 justify-end group">
                                <span class="text-[10px] text-slate-500 dark:text-gray-400 font-medium group-hover:text-slate-800 dark:group-hover:text-gray-200">>35°C</span>
                                <div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.1)] dark:shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#ef4444]"></div>
                            </div>
                            
                            <div class="flex items-center gap-2 justify-end group">
                                <span class="text-[10px] text-slate-500 dark:text-gray-400 font-medium group-hover:text-slate-800 dark:group-hover:text-gray-200">28~35°C</span>
                                <div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.1)] dark:shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#f97316]"></div>
                            </div>
                            
                            <div class="flex items-center gap-2 justify-end group">
                                <span class="text-[10px] text-slate-500 dark:text-gray-400 font-medium group-hover:text-slate-800 dark:group-hover:text-gray-200">20~28°C</span>
                                <div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.1)] dark:shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#eab308]"></div>
                            </div>
                            
                            <div class="flex items-center gap-2 justify-end group">
                                <span class="text-[10px] text-slate-500 dark:text-gray-400 font-medium group-hover:text-slate-800 dark:group-hover:text-gray-200">10~20°C</span>
                                <div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.1)] dark:shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#10b981]"></div>
                            </div>
                            
                            <div class="flex items-center gap-2 justify-end group">
                                <span class="text-[10px] text-slate-500 dark:text-gray-400 font-medium group-hover:text-slate-800 dark:group-hover:text-gray-200">0~10°C</span>
                                <div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.1)] dark:shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#06b6d4]"></div>
                            </div>
                            
                            <div class="flex items-center gap-2 justify-end group">
                                <span class="text-[10px] text-slate-500 dark:text-gray-400 font-medium group-hover:text-slate-800 dark:group-hover:text-gray-200">-10~0°C</span>
                                <div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.1)] dark:shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#3b82f6]"></div>
                            </div>
                            
                            <div class="flex items-center gap-2 justify-end group">
                                <span class="text-[10px] text-slate-500 dark:text-gray-400 font-medium group-hover:text-slate-800 dark:group-hover:text-gray-200"><-10°C</span>
                                <div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.1)] dark:shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#6366f1]"></div>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 地图容器 -->
        <div class="flex-1 w-full h-full">
            <div id="main-map" class="w-full h-full"></div>
        </div>

        <!-- 底部覆盖层：日期选择器 (DaySelector) -->
        <div class="absolute bottom-6 left-1/2 -translate-x-1/2 z-10 flex gap-1.5 md:gap-2 p-1.5 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md rounded-2xl border border-slate-200 dark:border-gray-700/50 shadow-2xl shadow-slate-300/50 dark:shadow-black/50 max-w-[95%] overflow-x-auto no-scrollbar pointer-events-auto transition-colors duration-300">
            
              <a href="#"  class="relative px-3 md:px-4 py-2 rounded-xl text-xs font-bold transition-all duration-300 whitespace-nowrap flex flex-col items-center justify-center gap-0.5 bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25 ring-1 ring-white/20">
                  <span class="day-label" data-day-zh="今天" data-day-en="Today">Today</span>
                  <span class="w-1 h-1 bg-white rounded-full opacity-50 absolute bottom-1"></span>
              </a>
                
              <a href="20260122/gansu.html" target="_blank" class="relative px-3 md:px-4 py-2 rounded-xl text-xs font-bold transition-all duration-300 whitespace-nowrap flex flex-col items-center justify-center gap-0.5 text-slate-500 dark:text-gray-400 hover:text-slate-800 dark:hover:text-gray-200 hover:bg-slate-100 dark:hover:bg-white/5">
                  <span class="day-label" data-day-zh="周四" data-day-en="Thu">Thu</span>
                  
              </a>
                
              <a href="20260123/gansu.html" target="_blank" class="relative px-3 md:px-4 py-2 rounded-xl text-xs font-bold transition-all duration-300 whitespace-nowrap flex flex-col items-center justify-center gap-0.5 text-slate-500 dark:text-gray-400 hover:text-slate-800 dark:hover:text-gray-200 hover:bg-slate-100 dark:hover:bg-white/5">
                  <span class="day-label" data-day-zh="周五" data-day-en="Fri">Fri</span>
                  
              </a>
                
              <a href="20260124/gansu.html" target="_blank" class="relative px-3 md:px-4 py-2 rounded-xl text-xs font-bold transition-all duration-300 whitespace-nowrap flex flex-col items-center justify-center gap-0.5 text-slate-500 dark:text-gray-400 hover:text-slate-800 dark:hover:text-gray-200 hover:bg-slate-100 dark:hover:bg-white/5">
                  <span class="day-label" data-day-zh="周六" data-day-en="Sat">Sat</span>
                  
              </a>
                
              <a href="20260125/gansu.html" target="_blank" class="relative px-3 md:px-4 py-2 rounded-xl text-xs font-bold transition-all duration-300 whitespace-nowrap flex flex-col items-center justify-center gap-0.5 text-slate-500 dark:text-gray-400 hover:text-slate-800 dark:hover:text-gray-200 hover:bg-slate-100 dark:hover:bg-white/5">
                  <span class="day-label" data-day-zh="周日" data-day-en="Sun">Sun</span>
                  
              </a>
                
              <a href="20260126/gansu.html" target="_blank" class="relative px-3 md:px-4 py-2 rounded-xl text-xs font-bold transition-all duration-300 whitespace-nowrap flex flex-col items-center justify-center gap-0.5 text-slate-500 dark:text-gray-400 hover:text-slate-800 dark:hover:text-gray-200 hover:bg-slate-100 dark:hover:bg-white/5">
                  <span class="day-label" data-day-zh="周一" data-day-en="Mon">Mon</span>
                  
              </a>
                
              <a href="20260127/gansu.html" target="_blank" class="relative px-3 md:px-4 py-2 rounded-xl text-xs font-bold transition-all duration-300 whitespace-nowrap flex flex-col items-center justify-center gap-0.5 text-slate-500 dark:text-gray-400 hover:text-slate-800 dark:hover:text-gray-200 hover:bg-slate-100 dark:hover:bg-white/5">
                  <span class="day-label" data-day-zh="周二" data-day-en="Tue">Tue</span>
                  
              </a>
                
        </div>
    </div>

    <!-- 右侧：城市排行榜面板 -->
    <div class="w-full md:w-[400px] h-[50vh] md:h-full z-20">
        <div class="flex flex-col h-full bg-white dark:bg-gray-900 border-l border-slate-200 dark:border-gray-700 shadow-2xl relative transition-colors duration-300">
        <!-- 面板头部 -->
        <div class="p-6 border-b border-slate-200 dark:border-gray-800 bg-white/95 dark:bg-gray-900/95 backdrop-blur z-10 sticky top-0 transition-colors duration-300">
            <div class="flex items-center justify-between mb-4">
                <div class="flex flex-col">
                    <h2 id="ranking-title" class="text-xl font-bold text-slate-900 dark:text-white tracking-tight">City Rankings</h2>
                    <div class="flex items-center gap-2 mt-1">
                        <span class="text-xs text-slate-500 dark:text-gray-500">14 <span id="regions-label">Cities</span></span>
                    </div>
                </div>
            </div>

            <!-- 排序控制 -->
            <div class="flex p-1 bg-slate-100 dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-gray-700">
                <button onclick="sortList('desc')" id="btn-hot" class="flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all bg-red-500/10 text-red-600 dark:text-red-400 shadow-sm ring-1 ring-red-500/50">
                    Hot
                </button>
                <button onclick="sortList('asc')" id="btn-cold" class="flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all text-slate-400 dark:text-gray-400 hover:text-slate-600 dark:hover:text-gray-200">
                    Cold
                </button>
            </div>
        </div>

        <!-- 列表内容区 -->
        <div id="ranking-list" class="flex-1 overflow-y-auto p-4 space-y-3 scroll-smooth">
            
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="4.8" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            1
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="陇南市" data-city-en="LongNan" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">LongNan</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #06b6d4">
                                4.8°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 16.4%; height: 13.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">4.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-1.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 18.4%; height: 27.6%; background-color: #10b981;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">13°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-0.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 18.6%; height: 25.599999999999998%; background-color: #10b981;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">12.1°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-0.7°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 21%; height: 14.6%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">7.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">0.5°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 23.6%; height: 10.200000000000001%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">6.9°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">1.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 13.8%; height: 26.8%; background-color: #10b981;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">10.3°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-3.1°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 19.8%; height: 23.599999999999998%; background-color: #10b981;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">11.7°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-0.1°</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="3.8" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            2
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="天水市" data-city-en="TianShui" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">TianShui</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="多云" data-weather-en="Cloudy">Cloudy</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #06b6d4">
                                3.8°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 7.4%; height: 20.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">3.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-6.3°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 6.4%; height: 32.8%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">9.6°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-6.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 7.800000000000001%; height: 28.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">8.1°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-6.1°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 10.8%; height: 20.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">5.6°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-4.6°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 15.6%; height: 15.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">5.5°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-2.2°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 6.199999999999999%; height: 33.400000000000006%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">9.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-6.9°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 12.8%; height: 30%; background-color: #10b981;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">11.4°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-3.6°</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="2.8" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            3
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="兰州市" data-city-en="LanZhou" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">LanZhou</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #06b6d4">
                                2.8°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 2.3999999999999986%; height: 23.200000000000003%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">2.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-8.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 6.4%; height: 27.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">6.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-6.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 4.4%; height: 29.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">6.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-7.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 6.4%; height: 29.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">7.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-6.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 12.6%; height: 14.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">3.4°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-3.7°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 4%; height: 25.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">4.7°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 6.6%; height: 27%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">6.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-6.7°</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="2.8" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            4
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="甘南藏族自治州" data-city-en="GanNan" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">GanNan</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #06b6d4">
                                2.8°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 35.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">2.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-14.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 49%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">7.7°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-16.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 54.4%; background-color: #10b981;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">10°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-17.2°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 61.8%; background-color: #10b981;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">15°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-15.9°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 19.2%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-0.9°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-10.5°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 47.8%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">7.2°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-16.7°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 50.400000000000006%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">9.1°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-16.1°</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="2.8" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            5
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="临夏回族自治州" data-city-en="LinXia" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">LinXia</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #06b6d4">
                                2.8°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 29.200000000000003%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">2.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-11.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 39.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">8.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-10.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 47.8%; background-color: #10b981;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">10.5°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-13.4°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 37.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">7.7°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-10.9°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 6.800000000000001%; height: 24.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">5.6°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-6.6°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 40.8%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">8.3°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-12.1°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 40.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">8.3°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-11.8°</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="0.8" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            6
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="定西市" data-city-en="DingXi" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">DingXi</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #06b6d4">
                                0.8°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 28.400000000000002%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">0.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-13.4°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 36.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">6.5°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-11.7°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 43.8%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">8.1°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-13.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 7.4%; height: 22.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">4.9°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-6.3°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 7.4%; height: 15%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">1.2°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-6.3°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 31.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">5°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-10.7°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 36.6%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">7.7°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-10.6°</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="0.8" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            7
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="白银市" data-city-en="BaiYin" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">BaiYin</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #06b6d4">
                                0.8°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 27.200000000000003%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">0.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-12.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 34%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">4.2°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-12.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 36.6%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">5.7°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-12.6°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 5.6%; height: 29.8%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">7.7°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-7.2°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 5.199999999999999%; height: 19.8%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">2.5°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-7.4°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0.3999999999999986%; height: 27.8%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">4.1°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-9.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 1.6000000000000014%; height: 29.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">5.5°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-9.2°</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="-0.8" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            8
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="平凉市" data-city-en="PingLiang" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">PingLiang</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #3b82f6">
                                -0.8°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 21.799999999999997%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-0.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-11.7°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 30.8%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">3.9°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-11.5°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 38.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">7.3°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-11.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 11%; height: 22.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">6.6°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-4.5°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 9.4%; height: 17.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">3.4°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-5.3°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 7.199999999999999%; height: 35%; background-color: #10b981;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">11.1°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-6.4°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 9%; height: 31.8%; background-color: #10b981;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">10.4°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-5.5°</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="-1.4" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            9
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="张掖市" data-city-en="ZhangYe" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">ZhangYe</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #3b82f6">
                                -1.4°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 31.2%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-1.4°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-17°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 38.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">3.2°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-15.9°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 44.599999999999994%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">8.6°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-13.7°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 24.2%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-2.5°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-14.6°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 26.599999999999998%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-0.3°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-13.6°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 41.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">6°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-14.7°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 46%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">7.4°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-15.6°</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="-2.2" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            10
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="庆阳市" data-city-en="QingYang" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">QingYang</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #3b82f6">
                                -2.2°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 15.999999999999998%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-2.2°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-10.2°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 25.6%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">1.9°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-10.9°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 1.1999999999999993%; height: 33%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">7.1°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-9.4°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 13.2%; height: 22.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">7.7°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-3.4°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 11.8%; height: 14.399999999999999%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">3.1°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-4.1°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 13%; height: 18.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">5.6°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-3.5°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 13.4%; height: 20.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">6.9°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-3.3°</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="-3.8" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            11
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="嘉峪关市" data-city-en="JiaYuGuan" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">JiaYuGuan</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #3b82f6">
                                -3.8°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 26.6%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-3.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-17.1°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 36.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">1.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-16.3°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 27.200000000000003%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-1.2°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-14.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 17.2%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-3.9°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-12.5°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 19.2%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-1.6°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-11.2°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0.1999999999999993%; height: 24.200000000000003%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">2.2°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-9.9°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 50%; height: 20%; background-color: #4b5563;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">--</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">--</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="-3.8" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            12
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="金昌市" data-city-en="JinChang" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">JinChang</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #3b82f6">
                                -3.8°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 24%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-3.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-15.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 40.199999999999996%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">3.2°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-16.9°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 31.400000000000002%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">2.9°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-12.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 30.400000000000002%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">2.9°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-12.3°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 1.3999999999999986%; height: 22.8%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">2.1°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-9.3°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0.8000000000000007%; height: 26.799999999999997%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">3.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-9.6°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 35.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">6.5°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-11.1°</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="-3.8" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            13
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="酒泉市" data-city-en="JiuQuan" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">JiuQuan</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #3b82f6">
                                -3.8°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 28.6%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-3.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-18.1°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 39.6%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">1.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-18°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 28.599999999999998%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">0.2°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-14.1°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 20%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-3°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-13°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 22.400000000000002%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-0.2°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-11.4°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 25.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">0.6°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-12°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 50%; height: 20%; background-color: #4b5563;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">--</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">--</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
            <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750"
                 data-temp="-4.2" onclick="toggleExpand(this)">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400">
                            14
                        </span>
                        <div>
                            <h3 data-role="title" data-city-zh="武威市" data-city-en="WuWei" class="font-semibold text-slate-700 dark:text-gray-300 text-sm md:text-base">WuWei</h3>
                            <div class="text-xs text-slate-500 dark:text-gray-500 flex gap-2 items-center mt-0.5">
                                <span class="weather-desc" data-weather-zh="晴" data-weather-en="Sunny">Sunny</span><span class="w-1 h-1 rounded-full bg-slate-400 dark:bg-gray-600"></span><span class="wind-label">Wind</span>: 3.3 m/s</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="text-right">
                            <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight" style="color: #3b82f6">
                                -4.2°
                            </div>
                        </div>
                        <div class="arrow-icon p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-transform duration-300">
                            <svg class="w-4 h-4 text-slate-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 详情 (7天预报) -->
                <div class="details-container mt-3 pt-3 border-t border-slate-200 dark:border-gray-700/50">
                    <div class="grid grid-cols-7 gap-1">
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-blue-500" data-day-zh="今天" data-day-en="Today">
                                Today
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 23.200000000000003%; background-color: #3b82f6;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">-4.2°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-15.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周四" data-day-en="Thu">
                                Thu
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 34.800000000000004%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">3.6°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-13.8°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周五" data-day-en="Fri">
                                Fri
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0%; height: 36.8%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">4.8°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-13.6°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周六" data-day-en="Sat">
                                Sat
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 3.3999999999999986%; height: 27.8%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">5.6°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-8.3°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周日" data-day-en="Sun">
                                Sun
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 0.6000000000000014%; height: 24.4%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">2.5°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-9.7°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周一" data-day-en="Mon">
                                Mon
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 4.800000000000001%; height: 26.2%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">5.5°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-7.6°</span>
                            </div>
                        </div>
                        
                        <div class="flex flex-col items-center group/day">
                            <span class="forecast-day-label text-[9px] font-medium mb-1 text-slate-500 dark:text-gray-500" data-day-zh="周二" data-day-en="Tue">
                                Tue
                            </span>
                            <div class="w-full bg-slate-200 dark:bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-black/5 dark:ring-white/5">
                                <div class="absolute w-full rounded-full opacity-80" style="bottom: 6.6%; height: 26%; background-color: #06b6d4;"></div>
                            </div>
                            <div class="flex flex-col items-center mt-1.5 gap-0.5">
                                <span class="text-[10px] font-bold text-slate-700 dark:text-gray-300 leading-none">6.3°</span>
                                <span class="text-[9px] text-slate-500 dark:text-gray-600 leading-none">-6.7°</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
              
        </div>
        </div>
    </div>
</div>

<script>
    let currentTheme = 'dark';
    let currentLang = 'en';
    let tempMapData = {};

    function initLanguage() {
        currentLang = 'en';
    }

    // Language switching is done via navigation

    // UI language is pre-rendered (all text is already in the correct language)

    const RANK_STYLES = {
        1: {
            container: "border-yellow-500/50 bg-gradient-to-r from-yellow-500/10 to-transparent dark:from-yellow-900/20",
            badge: "bg-yellow-500 text-black shadow-[0_0_10px_rgba(234,179,8,0.4)]",
            title: "text-yellow-700 dark:text-yellow-100"
        },
        2: {
            container: "border-slate-400/50 dark:border-gray-400/40 bg-gradient-to-r from-slate-500/10 to-transparent dark:from-gray-700/20",
            badge: "bg-slate-300 dark:bg-gray-300 text-black shadow-[0_0_10px_rgba(209,213,219,0.4)]",
            title: "text-slate-700 dark:text-gray-100"
        },
        3: {
            container: "border-orange-500/50 dark:border-orange-600/40 bg-gradient-to-r from-orange-500/10 to-transparent dark:from-orange-900/20",
            badge: "bg-orange-500 dark:bg-orange-600 text-white shadow-[0_0_10px_rgba(234,88,12,0.4)]",
            title: "text-orange-700 dark:text-orange-100"
        },
        default: {
            container: "border-slate-200 dark:border-gray-800 bg-white dark:bg-gray-800 hover:bg-slate-50 dark:hover:bg-gray-750",
            badge: "bg-slate-200 dark:bg-gray-700 text-slate-500 dark:text-gray-400",
            title: "text-slate-700 dark:text-gray-300"
        }
    };

    function getColorForTemp(temp) {
        if (temp >= 35) return '#ef4444';
        if (temp >= 28) return '#f97316';
        if (temp >= 20) return '#eab308';
        if (temp >= 10) return '#10b981';
        if (temp >= 0) return '#06b6d4';
        if (temp >= -10) return '#3b82f6';
        return '#6366f1';
    }

    function toggleTheme() {
        const html = document.documentElement;
        const sunIcon = document.getElementById('icon-sun');
        const moonIcon = document.getElementById('icon-moon');

        if (html.classList.contains('dark')) {
            html.classList.remove('dark');
            currentTheme = 'light';
            sunIcon.classList.add('hidden');
            moonIcon.classList.remove('hidden');
        } else {
            html.classList.add('dark');
            currentTheme = 'dark';
            sunIcon.classList.remove('hidden');
            moonIcon.classList.add('hidden');
        }

        if(window.myMapChart) {
            updateMapOption(window.myMapChart);
        }
    }

    function applyRankStyle(element, rank) {
        const badgeEl = element.querySelector('[data-role="badge"]');
        const titleEl = element.querySelector('[data-role="title"]');
        const tempEl = element.querySelector('[data-role="temp-val"]');

        if (!badgeEl || !titleEl || !tempEl) return;

        const style = RANK_STYLES[rank] || RANK_STYLES.default;
        element.className = `ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none ${style.container}`;
        badgeEl.className = `flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm ${style.badge}`;
        badgeEl.textContent = rank;
        titleEl.className = `font-semibold text-sm md:text-base ${style.title}`;

        const tempVal = parseFloat(element.dataset.temp);
        tempEl.style.color = getColorForTemp(tempVal);
    }

    function updateMapOption(chart) {
        const isDark = document.documentElement.classList.contains('dark');
        const borderColor = isDark ? '#111' : '#cbd5e1';
        const hoverColor = isDark ? '#4b5563' : '#94a3b8';
        const labelColor = isDark ? '#e5e7eb' : '#334155';
        const emphasisLabelColor = isDark ? '#fff' : '#0f172a';
        const shadowColor = isDark ? 'rgba(0, 0, 0, 0.5)' : 'rgba(0, 0, 0, 0.1)';
        const tooltipBg = isDark ? 'rgba(23, 23, 26, 0.95)' : 'rgba(255, 255, 255, 0.95)';
        const tooltipText = isDark ? '#e5e7eb' : '#1e293b';
        const tooltipBorder = isDark ? '#374151' : '#e2e8f0';

        chart.setOption({
            tooltip: {
                backgroundColor: tooltipBg,
                borderColor: tooltipBorder,
                textStyle: { color: tooltipText },
                formatter: (p) => {
                    // 从tempMapData获取温度值，支持多种后缀格式
                    let temp = tempMapData[p.name];
                    if (temp === undefined) {
                        temp = p.value;
                    }
                    const displayName = window.getCityName(p.name, currentLang);
                    const tempLabel = currentLang === 'zh' ? '温度' : 'Temperature';
                    if (temp === undefined || temp === null || isNaN(temp)) {
                        return `<div class="font-bold text-sm mb-1">${displayName}</div><div class="text-xs">${tempLabel}: <span class="font-bold">-</span></div>`;
                    }
                    const color = getColorForTemp(temp);
                    return `<div class="font-bold text-sm mb-1">${displayName}</div><div class="text-xs">${tempLabel}: <span class="font-bold" style="color: ${color}">${temp}°C</span></div>`;
                }
            },
            series: [{
                itemStyle: {
                    borderColor: borderColor
                },
                label: {
                    color: labelColor,
                    textBorderColor: isDark ? '#111827' : '#f8fafc'
                },
                emphasis: {
                    label: {
                        color: emphasisLabelColor
                    },
                    itemStyle: {
                        areaColor: hoverColor,
                        shadowColor: shadowColor,
                        shadowBlur: 10
                    }
                }
            }]
        });
    }

    const initMap = async () => {
        const chartDom = document.getElementById('main-map');
        window.myMapChart = echarts.init(chartDom);

        // 去重：如果有多个城市的fullName相同，只保留温度最高的一个
        const uniqueDataMap = new Map();
        [{"city":"陇南","cityCode":"mdYJa","temperature":4.8,"maxTemp":4.8,"minTemp":-1.8,"windSpeed":3.3,"weatherDesc":"晴","fullName":"陇南市","en_name":"LongNan"},{"city":"天水","cityCode":"tiBhu","temperature":3.8,"maxTemp":3.8,"minTemp":-6.3,"windSpeed":3.3,"weatherDesc":"多云","fullName":"天水市","en_name":"TianShui"},{"city":"兰州","cityCode":"ARkZA","temperature":2.8,"maxTemp":2.8,"minTemp":-8.8,"windSpeed":3.3,"weatherDesc":"晴","fullName":"兰州市","en_name":"LanZhou"},{"city":"甘南","cityCode":"QyZJe","temperature":2.8,"maxTemp":2.8,"minTemp":-14.8,"windSpeed":3.3,"weatherDesc":"晴","fullName":"甘南藏族自治州","en_name":"GanNan"},{"city":"临夏","cityCode":"orIIe","temperature":2.8,"maxTemp":2.8,"minTemp":-11.8,"windSpeed":3.3,"weatherDesc":"晴","fullName":"临夏回族自治州","en_name":"LinXia"},{"city":"定西","cityCode":"rsMQP","temperature":0.8,"maxTemp":0.8,"minTemp":-13.4,"windSpeed":3.3,"weatherDesc":"晴","fullName":"定西市","en_name":"DingXi"},{"city":"白银","cityCode":"soZAZ","temperature":0.8,"maxTemp":0.8,"minTemp":-12.8,"windSpeed":3.3,"weatherDesc":"晴","fullName":"白银市","en_name":"BaiYin"},{"city":"平凉","cityCode":"Yekjp","temperature":-0.8,"maxTemp":-0.8,"minTemp":-11.7,"windSpeed":3.3,"weatherDesc":"晴","fullName":"平凉市","en_name":"PingLiang"},{"city":"张掖","cityCode":"nvQbo","temperature":-1.4,"maxTemp":-1.4,"minTemp":-17,"windSpeed":3.3,"weatherDesc":"晴","fullName":"张掖市","en_name":"ZhangYe"},{"city":"庆阳","cityCode":"Nvedf","temperature":-2.2,"maxTemp":-2.2,"minTemp":-10.2,"windSpeed":3.3,"weatherDesc":"晴","fullName":"庆阳市","en_name":"QingYang"},{"city":"嘉峪关","cityCode":"WVCbx","temperature":-3.8,"maxTemp":-3.8,"minTemp":-17.1,"windSpeed":3.3,"weatherDesc":"晴","fullName":"嘉峪关市","en_name":"JiaYuGuan"},{"city":"金昌","cityCode":"chtaw","temperature":-3.8,"maxTemp":-3.8,"minTemp":-15.8,"windSpeed":3.3,"weatherDesc":"晴","fullName":"金昌市","en_name":"JinChang"},{"city":"酒泉","cityCode":"vDJSl","temperature":-3.8,"maxTemp":-3.8,"minTemp":-18.1,"windSpeed":3.3,"weatherDesc":"晴","fullName":"酒泉市","en_name":"JiuQuan"},{"city":"武威","cityCode":"LAPGD","temperature":-4.2,"maxTemp":-4.2,"minTemp":-15.8,"windSpeed":3.3,"weatherDesc":"晴","fullName":"武威市","en_name":"WuWei"}].forEach(item => {
          const name = item.fullName || item.city;
          if (!uniqueDataMap.has(name) || item.temperature > uniqueDataMap.get(name).value) {
            uniqueDataMap.set(name, {
              name: name,
              shortName: item.city,
              value: item.temperature
            });
          }
        });
        const data = Array.from(uniqueDataMap.values());

        try {
            // 加载省份地图
            const res = await fetch('/geo/620000_full.json');
            const geoJson = await res.json();
            echarts.registerMap('province', geoJson);
        } catch(e) {
            console.error('Map Load Error', e);
            return;
        }

        data.forEach(item => {
            tempMapData[item.name] = item.value;
            tempMapData[item.shortName] = item.value;
        });

        window.myMapChart.setOption({
            backgroundColor: 'transparent',
            tooltip: {
                trigger: 'item',
                borderWidth: 1,
                textStyle: { fontSize: 12 }
            },
            visualMap: {
                show: false,
                type: 'piecewise',
                seriesIndex: 0,
                pieces: [
                    { gte: 35, color: '#ef4444' },           // >= 35°C 红色
                    { gte: 28, lt: 35, color: '#f97316' },   // 28-34.9°C 橙色
                    { gte: 20, lt: 28, color: '#eab308' },   // 20-27.9°C 黄色
                    { gte: 10, lt: 20, color: '#10b981' },   // 10-19.9°C 绿色
                    { gte: 0, lt: 10, color: '#06b6d4' },    // 0-9.9°C 青色
                    { gte: -10, lt: 0, color: '#3b82f6' },   // -10--0.1°C 蓝色
                    { lt: -10, color: '#6366f1' }            // < -10°C 紫色
                ],
                calculable: false
            },
            series: [{
                type: 'map',
                map: 'province',
                roam: true,
                top: '6%',
                zoom: 0.9,
                label: {
                    show: true,
                    fontSize: 10,
                    color: '#e5e7eb',
                    textBorderColor: '#111827',
                    textBorderWidth: 2,
                    formatter: (params) => {
                        const displayName = window.getCityName(params.name, currentLang);
                        const temp = tempMapData[params.name];
                        if (temp !== undefined && temp !== null && !isNaN(temp)) {
                            return `${displayName}\n${temp}°`;
                        }
                        return `${displayName}\n-`;
                    }
                },
                itemStyle: {
                    borderWidth: 1,
                    borderColor: '#111'
                },
                emphasis: {
                    label: {
                        show: true,
                        color: '#fff',
                        fontSize: 12,
                        formatter: (params) => {
                            const displayName = window.getCityName(params.name, currentLang);
                            const temp = tempMapData[params.name];
                            if (temp !== undefined && temp !== null && !isNaN(temp)) {
                                return `${displayName}\n${temp}°C`;
                            }
                            return `${displayName}\n-`;
                        }
                    },
                    itemStyle: {
                        areaColor: '#4b5563',
                        shadowColor: 'rgba(0, 0, 0, 0.5)',
                        shadowBlur: 10
                    }
                },
                data: data
            }]
        });

        updateMapOption(window.myMapChart);
        window.addEventListener('resize', () => window.myMapChart.resize());
    };

    function toggleExpand(el) {
        const details = el.querySelector('.details-container');
        const arrow = el.querySelector('.arrow-icon');

        if (details.classList.contains('open')) {
            details.classList.remove('open', 'fade-in');
            arrow.classList.remove('rotate-180', 'bg-black/5', 'dark:bg-white/10');
            el.classList.remove('ring-1', 'ring-slate-400', 'dark:ring-gray-500');
        } else {
            details.classList.add('open', 'fade-in');
            arrow.classList.add('rotate-180', 'bg-black/5', 'dark:bg-white/10');
            el.classList.add('ring-1', 'ring-slate-400', 'dark:ring-gray-500');
        }
    }

    function sortList(order) {
        const list = document.getElementById('ranking-list');
        const items = Array.from(list.getElementsByClassName('ranking-item'));
        const btnHot = document.getElementById('btn-hot');
        const btnCold = document.getElementById('btn-cold');

        const activeClass = "flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all bg-blue-500/10 text-blue-600 dark:text-blue-400 shadow-sm ring-1 ring-blue-500/50";
        const hotActiveClass = "flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all bg-red-500/10 text-red-600 dark:text-red-400 shadow-sm ring-1 ring-red-500/50";
        const inactiveClass = "flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all text-slate-400 dark:text-gray-400 hover:text-slate-600 dark:hover:text-gray-200";

        if(order === 'desc') {
            btnHot.className = hotActiveClass;
            btnCold.className = inactiveClass;
        } else {
            btnHot.className = inactiveClass;
            btnCold.className = activeClass;
        }

        items.sort((a, b) => {
            const tA = parseFloat(a.dataset.temp);
            const tB = parseFloat(b.dataset.temp);
            return order === 'desc' ? tB - tA : tA - tB;
        });
        items.forEach((item, index) => {
            list.appendChild(item);
            applyRankStyle(item, index + 1);
        });
    }

    document.addEventListener('DOMContentLoaded', () => {
        initLanguage();

        if(!document.documentElement.classList.contains('dark')) {
            document.getElementById('icon-sun').classList.add('hidden');
            document.getElementById('icon-moon').classList.remove('hidden');
        } else {
            document.getElementById('icon-sun').classList.remove('hidden');
            document.getElementById('icon-moon').classList.add('hidden');
        }

        const items = document.querySelectorAll('.ranking-item');
        items.forEach((item, index) => {
            applyRankStyle(item, index + 1);
        });

        initMap();
    });
</script>
</body>
</html>