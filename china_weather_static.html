<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中国气温排行 - 静态演示</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              gray: { 750: '#2d3748', 850: '#1a202c', 950: '#0d1117' }
            }
          }
        }
      }
    </script>
    
    <!-- ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>

    <style>
        body { background-color: #0d1117; color: #e2e8f0; margin: 0; overflow: hidden; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .fade-in { animation: fadeIn 0.3s ease-out forwards; opacity: 0; transform: translateY(-5px); }
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }
        
        .details-container { display: none; }
        .details-container.open { display: block; }
    </style>
</head>
<body class="flex flex-col md:flex-row h-screen w-screen overflow-hidden bg-[#0d1117] text-white font-sans">

    <!-- 左侧: 地图可视化区域 -->
    <div class="relative flex-1 h-[50vh] md:h-full flex flex-col">
        
        <!-- 顶部覆盖层 -->
        <div class="absolute top-0 left-0 w-full p-6 z-10 pointer-events-none">
            <div class="flex justify-between items-start">
                <div>
                    <h1 class="text-3xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-emerald-400 drop-shadow-sm font-sans">
                        中国气温排行
                    </h1>
                </div>
                
                <div class="pointer-events-auto flex flex-col items-end gap-2">
                    <!-- 语言切换 -->
                    <div class="flex bg-gray-800/80 backdrop-blur rounded-lg border border-gray-700 p-1">
                        <a href="index.html" class="px-2 py-0.5 text-xs font-bold rounded bg-blue-600 text-white cursor-default">CN</a>
                        <a href="index_en.html" class="px-2 py-0.5 text-xs font-bold rounded text-gray-400 hover:text-white transition-colors">EN</a>
                    </div>
                    
                    <!-- 温度图例 -->
                    <div class="flex flex-col gap-1 items-end p-2 rounded-lg bg-gray-900/60 backdrop-blur-md border border-gray-700/50 shadow-xl">
                        <div class="text-[10px] text-gray-400 font-semibold mb-1 uppercase tracking-wider w-full text-right px-1">Temp Scale</div>
                        <div class="flex flex-col gap-1">
                            <div class="flex items-center gap-2 justify-end group"><span class="text-[10px] text-gray-400 font-medium group-hover:text-gray-200">>35°C</span><div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#ef4444]"></div></div>
                            <div class="flex items-center gap-2 justify-end group"><span class="text-[10px] text-gray-400 font-medium group-hover:text-gray-200">28~35°C</span><div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#f97316]"></div></div>
                            <div class="flex items-center gap-2 justify-end group"><span class="text-[10px] text-gray-400 font-medium group-hover:text-gray-200">20~28°C</span><div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#eab308]"></div></div>
                            <div class="flex items-center gap-2 justify-end group"><span class="text-[10px] text-gray-400 font-medium group-hover:text-gray-200">10~20°C</span><div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#10b981]"></div></div>
                            <div class="flex items-center gap-2 justify-end group"><span class="text-[10px] text-gray-400 font-medium group-hover:text-gray-200">0~10°C</span><div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#06b6d4]"></div></div>
                            <div class="flex items-center gap-2 justify-end group"><span class="text-[10px] text-gray-400 font-medium group-hover:text-gray-200">-10~0°C</span><div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#3b82f6]"></div></div>
                            <div class="flex items-center gap-2 justify-end group"><span class="text-[10px] text-gray-400 font-medium group-hover:text-gray-200"><-10°C</span><div class="w-8 h-1.5 rounded-full shadow-[0_0_8px_rgba(0,0,0,0.3)] transition-all group-hover:w-10 bg-[#6366f1]"></div></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 地图容器 -->
        <div class="flex-1 w-full h-full">
            <div id="main-map" class="w-full h-full"></div>
        </div>

        <!-- 底部日期 -->
        <div class="absolute bottom-6 left-1/2 -translate-x-1/2 z-10 flex gap-1.5 md:gap-2 p-1.5 bg-gray-900/80 backdrop-blur-md rounded-2xl border border-gray-700/50 shadow-2xl shadow-black/50 max-w-[95%] overflow-x-auto no-scrollbar pointer-events-auto">
            <a href="#" class="relative px-3 md:px-4 py-2 rounded-xl text-xs font-bold transition-all duration-300 whitespace-nowrap flex flex-col items-center justify-center gap-0.5 bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/25 ring-1 ring-white/10">
                <span>今天</span>
                <span class="w-1 h-1 bg-white rounded-full opacity-50 absolute bottom-1"></span>
            </a>
            <a href="day1.html" class="relative px-3 md:px-4 py-2 rounded-xl text-xs font-bold transition-all duration-300 whitespace-nowrap flex flex-col items-center justify-center gap-0.5 text-gray-400 hover:text-gray-200 hover:bg-white/5"><span>周三</span></a>
            <a href="day2.html" class="relative px-3 md:px-4 py-2 rounded-xl text-xs font-bold transition-all duration-300 whitespace-nowrap flex flex-col items-center justify-center gap-0.5 text-gray-400 hover:text-gray-200 hover:bg-white/5"><span>周四</span></a>
        </div>
    </div>

    <!-- 右侧: 排行榜面板 -->
    <div class="w-full md:w-[400px] h-[50vh] md:h-full z-20">
        <div class="flex flex-col h-full bg-gray-900 border-l border-gray-700 shadow-2xl relative">
            
            <!-- 面板头部 -->
            <div class="p-6 border-b border-gray-800 bg-gray-900/95 backdrop-blur z-10 sticky top-0">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex flex-col">
                        <h2 class="text-xl font-bold text-white tracking-tight">全国 排行</h2>
                        <div class="flex items-center gap-2 mt-1">
                            <span class="text-xs text-gray-500">34 地区</span>
                        </div>
                    </div>
                </div>

                <!-- 排序控制 -->
                <div class="flex p-1 bg-gray-800 rounded-lg border border-gray-700">
                    <button onclick="sortList('desc')" id="btn-hot" class="flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all bg-red-500/10 text-red-400 shadow-sm ring-1 ring-red-500/50">
                        高温
                    </button>
                    <button onclick="sortList('asc')" id="btn-cold" class="flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all text-gray-400 hover:text-gray-200">
                        低温
                    </button>
                </div>
            </div>

            <!-- 列表内容区 -->
            <div id="ranking-list" class="flex-1 overflow-y-auto p-4 space-y-3 scroll-smooth">
                
                <!-- 
                  ITEM 1: 海南省 (32°C)
                -->
                <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-gray-800 bg-gray-800 hover:bg-gray-750" 
                     data-temp="32" onclick="toggleExpand(this)">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-4">
                            <!-- JS 会根据排序动态修改 1, 2, 3 的样式 -->
                            <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-gray-700 text-gray-400">1</span>
                            <div>
                                <h3 data-role="title" class="font-semibold text-gray-300 text-sm md:text-base">海南省</h3>
                                <div class="text-xs text-gray-500 flex gap-2 items-center mt-0.5">
                                    <span>晴</span><span class="w-1 h-1 rounded-full bg-gray-600"></span><span>风速: 12 km/h</span>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="text-right">
                                <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight">32°</div>
                            </div>
                            <div class="arrow-icon p-1 rounded-full hover:bg-white/5 transition-transform duration-300">
                                <svg class="w-4 h-4 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                            </div>
                        </div>
                    </div>
                    <!-- 详情区域 (静态写入 7 天预报结构) -->
                    <div class="details-container mt-3 pt-3 border-t border-gray-700/50">
                        <div class="flex justify-between items-center mb-2"><h4 class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">未来7天预报</h4></div>
                        <div class="grid grid-cols-7 gap-1">
                            <!-- Day 1 (今天) -->
                            <div class="flex flex-col items-center group/day">
                                <span class="text-[9px] font-medium mb-1 text-blue-400">今天</span>
                                <div class="w-full bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-white/5">
                                    <div class="absolute w-full rounded-full opacity-80 bg-[#f97316]" style="bottom: 50%; height: 30%;"></div>
                                </div>
                                <div class="flex flex-col items-center mt-1.5 gap-0.5"><span class="text-[10px] font-bold text-gray-300 leading-none">32°</span><span class="text-[9px] text-gray-600 leading-none">25°</span></div>
                            </div>
                            <!-- Day 2 -->
                            <div class="flex flex-col items-center group/day">
                                <span class="text-[9px] font-medium mb-1 text-gray-500">周三</span>
                                <div class="w-full bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-white/5">
                                    <div class="absolute w-full rounded-full opacity-80 bg-[#f97316]" style="bottom: 48%; height: 28%;"></div>
                                </div>
                                <div class="flex flex-col items-center mt-1.5 gap-0.5"><span class="text-[10px] font-bold text-gray-300 leading-none">31°</span><span class="text-[9px] text-gray-600 leading-none">24°</span></div>
                            </div>
                             <!-- Day 3 -->
                            <div class="flex flex-col items-center group/day">
                                <span class="text-[9px] font-medium mb-1 text-gray-500">周四</span>
                                <div class="w-full bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-white/5">
                                    <div class="absolute w-full rounded-full opacity-80 bg-[#f97316]" style="bottom: 52%; height: 32%;"></div>
                                </div>
                                <div class="flex flex-col items-center mt-1.5 gap-0.5"><span class="text-[10px] font-bold text-gray-300 leading-none">33°</span><span class="text-[9px] text-gray-600 leading-none">26°</span></div>
                            </div>
                            <!-- Day 4 -->
                            <div class="flex flex-col items-center group/day">
                                <span class="text-[9px] font-medium mb-1 text-gray-500">周五</span>
                                <div class="w-full bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-white/5">
                                    <div class="absolute w-full rounded-full opacity-80 bg-[#f97316]" style="bottom: 50%; height: 30%;"></div>
                                </div>
                                <div class="flex flex-col items-center mt-1.5 gap-0.5"><span class="text-[10px] font-bold text-gray-300 leading-none">32°</span><span class="text-[9px] text-gray-600 leading-none">25°</span></div>
                            </div>
                            <!-- Day 5 -->
                            <div class="flex flex-col items-center group/day">
                                <span class="text-[9px] font-medium mb-1 text-gray-500">周六</span>
                                <div class="w-full bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-white/5">
                                    <div class="absolute w-full rounded-full opacity-80 bg-[#eab308]" style="bottom: 45%; height: 25%;"></div>
                                </div>
                                <div class="flex flex-col items-center mt-1.5 gap-0.5"><span class="text-[10px] font-bold text-gray-300 leading-none">29°</span><span class="text-[9px] text-gray-600 leading-none">23°</span></div>
                            </div>
                            <!-- Day 6 -->
                            <div class="flex flex-col items-center group/day">
                                <span class="text-[9px] font-medium mb-1 text-gray-500">周日</span>
                                <div class="w-full bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-white/5">
                                    <div class="absolute w-full rounded-full opacity-80 bg-[#eab308]" style="bottom: 40%; height: 25%;"></div>
                                </div>
                                <div class="flex flex-col items-center mt-1.5 gap-0.5"><span class="text-[10px] font-bold text-gray-300 leading-none">28°</span><span class="text-[9px] text-gray-600 leading-none">22°</span></div>
                            </div>
                            <!-- Day 7 -->
                            <div class="flex flex-col items-center group/day">
                                <span class="text-[9px] font-medium mb-1 text-gray-500">周一</span>
                                <div class="w-full bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-white/5">
                                    <div class="absolute w-full rounded-full opacity-80 bg-[#f97316]" style="bottom: 48%; height: 28%;"></div>
                                </div>
                                <div class="flex flex-col items-center mt-1.5 gap-0.5"><span class="text-[10px] font-bold text-gray-300 leading-none">30°</span><span class="text-[9px] text-gray-600 leading-none">24°</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 
                  ITEM 2: 广东省 (29°C)
                -->
                <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-gray-800 bg-gray-800 hover:bg-gray-750" 
                     data-temp="29" onclick="toggleExpand(this)">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-4">
                            <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-gray-700 text-gray-400">2</span>
                            <div>
                                <h3 data-role="title" class="font-semibold text-gray-300 text-sm md:text-base">广东省</h3>
                                <div class="text-xs text-gray-500 flex gap-2 items-center mt-0.5">
                                    <span>多云</span><span class="w-1 h-1 rounded-full bg-gray-600"></span><span>风速: 15 km/h</span>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="text-right">
                                <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight">29°</div>
                            </div>
                            <div class="arrow-icon p-1 rounded-full hover:bg-white/5 transition-transform duration-300">
                                <svg class="w-4 h-4 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                            </div>
                        </div>
                    </div>
                    <div class="details-container mt-3 pt-3 border-t border-gray-700/50">
                        <!-- 简化的详情数据 (重复结构) -->
                        <div class="flex justify-between items-center mb-2"><h4 class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">未来7天预报</h4></div>
                        <div class="grid grid-cols-7 gap-1">
                             <div class="flex flex-col items-center group/day"><span class="text-[9px] font-medium mb-1 text-blue-400">今天</span><div class="w-full bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-white/5"><div class="absolute w-full rounded-full opacity-80 bg-[#f97316]" style="bottom: 45%; height: 30%;"></div></div><div class="flex flex-col items-center mt-1.5 gap-0.5"><span class="text-[10px] font-bold text-gray-300 leading-none">29°</span><span class="text-[9px] text-gray-600 leading-none">22°</span></div></div>
                             <!-- 此处省略其他6天以节省字符，实际生成时应填充完整 -->
                             <div class="col-span-6 text-[10px] flex items-center justify-center text-gray-600">... 后续 6 天预报数据 ...</div>
                        </div>
                    </div>
                </div>

                <!-- 
                  ITEM 3: 广西 (28°C)
                -->
                <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-gray-800 bg-gray-800 hover:bg-gray-750" 
                     data-temp="28" onclick="toggleExpand(this)">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-4">
                            <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-gray-700 text-gray-400">3</span>
                            <div>
                                <h3 data-role="title" class="font-semibold text-gray-300 text-sm md:text-base">广西壮族自治区</h3>
                                <div class="text-xs text-gray-500 flex gap-2 items-center mt-0.5">
                                    <span>多云</span><span class="w-1 h-1 rounded-full bg-gray-600"></span><span>风速: 10 km/h</span>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="text-right">
                                <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight">28°</div>
                            </div>
                            <div class="arrow-icon p-1 rounded-full hover:bg-white/5 transition-transform duration-300">
                                <svg class="w-4 h-4 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                            </div>
                        </div>
                    </div>
                     <div class="details-container mt-3 pt-3 border-t border-gray-700/50">
                        <div class="flex justify-between items-center mb-2"><h4 class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">未来7天预报</h4></div>
                        <div class="grid grid-cols-7 gap-1">
                             <div class="flex flex-col items-center group/day"><span class="text-[9px] font-medium mb-1 text-blue-400">今天</span><div class="w-full bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-white/5"><div class="absolute w-full rounded-full opacity-80 bg-[#eab308]" style="bottom: 40%; height: 30%;"></div></div><div class="flex flex-col items-center mt-1.5 gap-0.5"><span class="text-[10px] font-bold text-gray-300 leading-none">28°</span><span class="text-[9px] text-gray-600 leading-none">20°</span></div></div>
                             <div class="col-span-6 text-[10px] flex items-center justify-center text-gray-600">... 后续 6 天预报数据 ...</div>
                        </div>
                    </div>
                </div>

                <!-- 
                  ITEM 4: 北京 (15°C)
                -->
                <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-gray-800 bg-gray-800 hover:bg-gray-750" 
                     data-temp="15" onclick="toggleExpand(this)">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-4">
                            <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-gray-700 text-gray-400">4</span>
                            <div>
                                <h3 data-role="title" class="font-semibold text-gray-300 text-sm md:text-base">北京市</h3>
                                <div class="text-xs text-gray-500 flex gap-2 items-center mt-0.5">
                                    <span>晴</span><span class="w-1 h-1 rounded-full bg-gray-600"></span><span>风速: 8 km/h</span>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="text-right">
                                <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight">15°</div>
                            </div>
                            <div class="arrow-icon p-1 rounded-full hover:bg-white/5 transition-transform duration-300">
                                <svg class="w-4 h-4 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                            </div>
                        </div>
                    </div>
                     <div class="details-container mt-3 pt-3 border-t border-gray-700/50">
                        <div class="flex justify-between items-center mb-2"><h4 class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">未来7天预报</h4></div>
                        <div class="grid grid-cols-7 gap-1">
                             <div class="flex flex-col items-center group/day"><span class="text-[9px] font-medium mb-1 text-blue-400">今天</span><div class="w-full bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-white/5"><div class="absolute w-full rounded-full opacity-80 bg-[#10b981]" style="bottom: 25%; height: 30%;"></div></div><div class="flex flex-col items-center mt-1.5 gap-0.5"><span class="text-[10px] font-bold text-gray-300 leading-none">15°</span><span class="text-[9px] text-gray-600 leading-none">5°</span></div></div>
                             <div class="col-span-6 text-[10px] flex items-center justify-center text-gray-600">... 后续 6 天预报数据 ...</div>
                        </div>
                    </div>
                </div>
                 <!-- 
                   ITEM 5: 黑龙江 (-20°C)
                 -->
                <div class="ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none border-gray-800 bg-gray-800 hover:bg-gray-750" 
                     data-temp="-20" onclick="toggleExpand(this)">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-4">
                            <span data-role="badge" class="flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm bg-gray-700 text-gray-400">34</span>
                            <div>
                                <h3 data-role="title" class="font-semibold text-gray-300 text-sm md:text-base">黑龙江省</h3>
                                <div class="text-xs text-gray-500 flex gap-2 items-center mt-0.5">
                                    <span>雪</span><span class="w-1 h-1 rounded-full bg-gray-600"></span><span>风速: 20 km/h</span>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="text-right">
                                <div data-role="temp-val" class="text-lg font-bold tabular-nums tracking-tight">-20°</div>
                            </div>
                            <div class="arrow-icon p-1 rounded-full hover:bg-white/5 transition-transform duration-300">
                                <svg class="w-4 h-4 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                            </div>
                        </div>
                    </div>
                     <div class="details-container mt-3 pt-3 border-t border-gray-700/50">
                        <div class="flex justify-between items-center mb-2"><h4 class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">未来7天预报</h4></div>
                        <div class="grid grid-cols-7 gap-1">
                             <div class="flex flex-col items-center group/day"><span class="text-[9px] font-medium mb-1 text-blue-400">今天</span><div class="w-full bg-gray-800/50 rounded-full h-20 relative w-1.5 md:w-2 mx-auto ring-1 ring-white/5"><div class="absolute w-full rounded-full opacity-80 bg-[#6366f1]" style="bottom: 5%; height: 20%;"></div></div><div class="flex flex-col items-center mt-1.5 gap-0.5"><span class="text-[10px] font-bold text-gray-300 leading-none">-20°</span><span class="text-[9px] text-gray-600 leading-none">-30°</span></div></div>
                             <div class="col-span-6 text-[10px] flex items-center justify-center text-gray-600">... 后续 6 天预报数据 ...</div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        // --- 静态地图数据 ---
        const MAP_DATA = [
            {name: '海南省', value: 32},
            {name: '广东省', value: 29},
            {name: '广西壮族自治区', value: 28},
            {name: '福建省', value: 24},
            {name: '重庆市', value: 22},
            {name: '上海市', value: 20},
            {name: '浙江省', value: 21},
            {name: '湖南省', value: 20},
            {name: '江西省', value: 20},
            {name: '云南省', value: 20},
            {name: '湖北省', value: 19},
            {name: '江苏省', value: 19},
            {name: '四川省', value: 18},
            {name: '安徽省', value: 18},
            {name: '山东省', value: 17},
            {name: '天津市', value: 16},
            {name: '河南省', value: 16},
            {name: '北京市', value: 15},
            {name: '贵州省', value: 15},
            {name: '河北省', value: 14},
            {name: '陕西省', value: 14},
            {name: '山西省', value: 12},
            {name: '宁夏回族自治区', value: 11},
            {name: '甘肃省', value: 10},
            {name: '辽宁省', value: 10},
            {name: '新疆维吾尔自治区', value: 10},
            {name: '吉林省', value: 5},
            {name: '内蒙古自治区', value: 5},
            {name: '西藏自治区', value: 5},
            {name: '青海省', value: 2},
            {name: '黑龙江省', value: -20}
        ];

        // --- 样式配置 (严格对应 RankingPanel.tsx) ---
        const RANK_STYLES = {
            1: {
                container: "border-yellow-500/40 bg-gradient-to-r from-yellow-900/20 to-transparent",
                badge: "bg-yellow-500 text-black shadow-[0_0_10px_rgba(234,179,8,0.5)]",
                title: "text-yellow-100"
            },
            2: {
                container: "border-gray-400/40 bg-gradient-to-r from-gray-700/20 to-transparent",
                badge: "bg-gray-300 text-black shadow-[0_0_10px_rgba(209,213,219,0.5)]",
                title: "text-gray-100"
            },
            3: {
                container: "border-orange-600/40 bg-gradient-to-r from-orange-900/20 to-transparent",
                badge: "bg-orange-600 text-white shadow-[0_0_10px_rgba(234,88,12,0.5)]",
                title: "text-orange-100"
            },
            default: {
                container: "border-gray-800 bg-gray-800 hover:bg-gray-750",
                badge: "bg-gray-700 text-gray-400",
                title: "text-gray-300"
            }
        };

        const ALL_CLASSES = [
            ...RANK_STYLES[1].container.split(' '), ...RANK_STYLES[1].badge.split(' '), ...RANK_STYLES[1].title.split(' '),
            ...RANK_STYLES[2].container.split(' '), ...RANK_STYLES[2].badge.split(' '), ...RANK_STYLES[2].title.split(' '),
            ...RANK_STYLES[3].container.split(' '), ...RANK_STYLES[3].badge.split(' '), ...RANK_STYLES[3].title.split(' '),
            ...RANK_STYLES.default.container.split(' '), ...RANK_STYLES.default.badge.split(' '), ...RANK_STYLES.default.title.split(' ')
        ];

        // --- 温度颜色逻辑 (对应 TemperatureLegend.tsx) ---
        function getColorForTemp(temp) {
            if (temp >= 35) return '#ef4444'; 
            if (temp >= 28) return '#f97316'; 
            if (temp >= 20) return '#eab308'; 
            if (temp >= 10) return '#10b981'; 
            if (temp >= 0) return '#06b6d4';  
            if (temp >= -10) return '#3b82f6'; 
            return '#6366f1'; 
        }

        // --- 核心逻辑: 应用排名样式 ---
        function applyRankStyle(element, rank) {
            const containerClasses = (RANK_STYLES[rank] || RANK_STYLES.default).container.split(' ');
            const badgeClasses = (RANK_STYLES[rank] || RANK_STYLES.default).badge.split(' ');
            const titleClasses = (RANK_STYLES[rank] || RANK_STYLES.default).title.split(' ');

            const badgeEl = element.querySelector('[data-role="badge"]');
            const titleEl = element.querySelector('[data-role="title"]');
            const tempEl = element.querySelector('[data-role="temp-val"]');

            // 1. 清除旧样式 (防止类名堆积)
            // 简单粗暴做法: 移除所有可能的Rank相关类，保留基础类
            // 为了性能，我们只在切换时移除特定的差异类，或者直接覆盖className
            // 这里使用覆盖 className 的方式最稳妥，但要保留布局类
            
            // Container
            element.className = `ranking-item group flex flex-col p-3 rounded-xl transition-all duration-300 border cursor-pointer select-none ${(RANK_STYLES[rank] || RANK_STYLES.default).container}`;
            
            // Badge
            badgeEl.className = `flex justify-center items-center w-7 h-7 rounded-lg text-sm font-bold shadow-sm ${(RANK_STYLES[rank] || RANK_STYLES.default).badge}`;
            badgeEl.textContent = rank; // 更新序号 1, 2, 3...

            // Title
            titleEl.className = `font-semibold text-sm md:text-base ${(RANK_STYLES[rank] || RANK_STYLES.default).title}`;
            
            // Temp Color (始终根据温度值变化)
            const tempVal = parseFloat(element.dataset.temp);
            tempEl.style.color = getColorForTemp(tempVal);
        }

        // --- 排序逻辑 ---
        function sortList(order) {
            const list = document.getElementById('ranking-list');
            const items = Array.from(list.getElementsByClassName('ranking-item'));
            const btnHot = document.getElementById('btn-hot');
            const btnCold = document.getElementById('btn-cold');

            // 1. 更新按钮状态
            if(order === 'desc') {
                btnHot.className = "flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all bg-red-500/10 text-red-400 shadow-sm ring-1 ring-red-500/50";
                btnCold.className = "flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all text-gray-400 hover:text-gray-200";
            } else {
                btnHot.className = "flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all text-gray-400 hover:text-gray-200";
                btnCold.className = "flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-medium rounded-md transition-all bg-blue-500/10 text-blue-400 shadow-sm ring-1 ring-blue-500/50";
            }

            // 2. 排序 DOM
            items.sort((a, b) => {
                const tA = parseFloat(a.dataset.temp);
                const tB = parseFloat(b.dataset.temp);
                return order === 'desc' ? tB - tA : tA - tB;
            });

            // 3. 重新插入并更新样式
            items.forEach((item, index) => {
                list.appendChild(item); // 移动 DOM 位置
                applyRankStyle(item, index + 1); // 重新计算排名样式 (1-based index)
            });
        }

        // --- 初始化 ---
        // 页面加载时执行一次样式应用，确保初始 HTML (通常是高温序) 样式正确
        document.addEventListener('DOMContentLoaded', () => {
            const items = document.querySelectorAll('.ranking-item');
            items.forEach((item, index) => {
                applyRankStyle(item, index + 1);
            });
            initMap();
        });

        function toggleExpand(el) {
            const details = el.querySelector('.details-container');
            const arrow = el.querySelector('.arrow-icon');
            
            if (details.classList.contains('open')) {
                details.classList.remove('open', 'fade-in');
                arrow.classList.remove('rotate-180', 'bg-white/10');
                // 恢复时需要判断是否是 Top 3，如果是 Top 3 不能简单移除 bg-gray-800，
                // 因为 Top 3 没有 bg-gray-800，而是渐变。
                // 只有普通排名才需要移除 bg-gray-800 (虽然它本来就有)
                // 简单处理：移除额外添加的高亮即可
                el.classList.remove('ring-1', 'ring-gray-500');
            } else {
                details.classList.add('open', 'fade-in');
                arrow.classList.add('rotate-180', 'bg-white/10');
                el.classList.add('ring-1', 'ring-gray-500');
            }
        }

        // 简化的 ECharts 初始化
        const initMap = async () => {
            const chartDom = document.getElementById('main-map');
            const myChart = echarts.init(chartDom);
            try {
                const res = await fetch('https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json');
                const geoJson = await res.json();
                echarts.registerMap('china', geoJson);
                myChart.setOption({
                    backgroundColor: 'transparent',
                    tooltip: {
                        trigger: 'item',
                        formatter: '{b}: {c}°C',
                        backgroundColor: 'rgba(20,20,20,0.9)',
                        borderColor: '#333',
                        textStyle: { color: '#fff' }
                    },
                    visualMap: {
                        show: false,
                        min: -15, max: 35, // 调整范围以适应数据
                        inRange: { color: ['#6366f1', '#3b82f6', '#06b6d4', '#10b981', '#eab308', '#f97316', '#ef4444'] }
                    },
                    geo: { 
                        map: 'china', roam: true, zoom: 1.2, top: '18%',
                        itemStyle: { areaColor: '#1f2937', borderColor: '#111' },
                        emphasis: { itemStyle: { areaColor: '#4b5563' }, label: {color: '#fff'} }
                    },
                    // 填入静态数据
                    series: [{ type: 'map', geoIndex: 0, data: MAP_DATA }] 
                });
            } catch(e) {}
            window.addEventListener('resize', () => myChart.resize());
        };
    </script>
</body>
</html>